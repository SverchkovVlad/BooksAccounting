<section class="intro-wrap">

    <div class="center intro-text">
        <h1>V.S. Library</h1>
        <span class="quote">Today`s knowledge, tommorow`s power</span>
    </div>

</section>

<section class="books-container">
    <div class="center">
        <h3>List of our authors & books</h3>

        <div class = "sort-search-wrap">

            <div class="list-sorting">
                <!-- <select (change) = "selectOptionHandler($event.target)"> -->
                <!-- <select class = "sort-method-selection"> -->
                <select (change)="selectOptionHandler($event)">
                    <option hidden>Sort by...</option>
                    <option value="name">Sort by name</option>
                    <option value="surname">Sort by surname</option>
                    <option value="patronymic">Sort by patronymic</option>
                    <option value="birthDate">Sort by date of birth</option>
                    <option value="books">Sort by amount of books</option>
                </select>
            </div>

            <label for="searchField">
                Type book`s name: <input [(ngModel)] = "searchBookName" 
                type="search" name="searchField" id="searchField" (input) = "searchBook()">
            </label>

        </div>

        <!-- Make this using table and FlexBox or Grid for responsive design -->
        <!-- https://www.w3schools.com/css/css_table.asp -->

        <table class="authors-table">
            <tr>
                <th>Name</th>
                <th>Surname</th>
                <th>Patronymic</th>
                <th>Date of birth</th>
                <th>Books</th>
                <th>Options</th>
            </tr>
            <tr class="author-data" *ngFor="let author of authors">
                <td class="name"> {{author.name}}</td>
                <td class="surname"> {{author.surname}}</td>
                <td class="patronymic"> {{author.patronymic}}</td>
                <td class="birthDate"> {{author.birthDate}}</td>
                <td class="books">
                    <div>
                        <ul>
                            <li *ngFor="let book of author.books; let i = index"><span>{{book.bookName}}</span></li>
                        </ul>
                    </div>

                </td>
                <td>
                    <!-- <button routerLink = "editAuthorData" (click) = "authorIdHandler(author.id)">Edit</button> -->
                    <button (click) = "authorIdHandler(author.id)">Edit</button>
                    <button (click)="deleteAuthor(author.id)">Delete</button>
                    <button>Details</button>
                </td>

            </tr>
        </table>

        <div *ngIf = "isBookFound" class = "book-not-found">Not found!</div>
        <div *ngIf = "isTableEmpty" class = "loading">Authors and books are loading...</div>

        <div class="a-buttons">
            <!-- <a routerLink = "addAuthor">Add new author</a>
            <a routerLink = "editGenres">Edit genres</a> -->
            <a routerLink = "addAuthor">Add new author</a>
            <a routerLink = "editGenres">Edit genres</a>
        </div>

    </div>
</section>

<footer></footer>